{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState,useEffect}from'react';import{retrievePostsByCategory,retrievePosts,retrieveCategoryIdByName,retrieveCategories}from'../service/WPService';import PostItem from'./PostItem';import styled from\"styled-components\";import{Wrapper,Loading}from'./Styled';import{jsx as _jsx}from\"react/jsx-runtime\";var PostSection=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding-top:3em;\\n    padding-bottom:2em;\\n    @media (max-width: 45em) {\\n        display:flex;\\n        flex-direction:column;\\n        align-items:center;    \\n    }\\n\"])));export default function Posts(props){var _useState=useState(props.category),_useState2=_slicedToArray(_useState,1),category=_useState2[0];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),categoryId=_useState4[0],setCategoryId=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),posts=_useState6[0],setPosts=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoaded=_useState8[0],setIsLoaded=_useState8[1];useEffect(function(){console.log(category);retrieveCategoryIdByName(category).then(function(res){if(typeof res[0]==='undefined'){}else{retrievePostsByCategory(res[0].id).then(function(res){setPosts(res);setIsLoaded(true);}).catch(function(err){return console.log(err);});}});},[category]);if(isLoaded){return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(PostSection,{children:posts.map(function(post){return/*#__PURE__*/_jsx(PostItem,{post:post},post.id);})})});}else{return/*#__PURE__*/_jsx(Loading,{children:\"Loading...\"});}}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/Posts.js"],"names":["React","useState","useEffect","retrievePostsByCategory","retrievePosts","retrieveCategoryIdByName","retrieveCategories","PostItem","styled","Wrapper","Loading","PostSection","div","Posts","props","category","categoryId","setCategoryId","posts","setPosts","isLoaded","setIsLoaded","console","log","then","res","id","catch","err","map","post"],"mappings":"oSAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,uBAAT,CAAkCC,aAAlC,CAAiDC,wBAAjD,CAA4EC,kBAA5E,KAAsG,sBAAtG,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,OAAR,CAAiBC,OAAjB,KAA+B,UAA/B,C,2CAEA,GAAMC,CAAAA,WAAW,CAAGH,MAAM,CAACI,GAAV,iPAAjB,CAUA,cAAe,SAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CAEjC,cAAmBb,QAAQ,CAACa,KAAK,CAACC,QAAP,CAA3B,wCAAOA,QAAP,eACA,eAAoCd,QAAQ,EAA5C,yCAAOe,UAAP,eAAmBC,aAAnB,eACA,eAA0BhB,QAAQ,CAAC,EAAD,CAAlC,yCAAOiB,KAAP,eAAcC,QAAd,eACA,eAAgClB,QAAQ,CAAC,KAAD,CAAxC,yCAAOmB,QAAP,eAAiBC,WAAjB,eAEAnB,SAAS,CAAE,UAAM,CACboB,OAAO,CAACC,GAAR,CAAYR,QAAZ,EAEAV,wBAAwB,CAACU,QAAD,CAAxB,CACCS,IADD,CACO,SAAAC,GAAG,CAAI,CACV,GAAG,MAAOA,CAAAA,GAAG,CAAC,CAAD,CAAV,GAAkB,WAArB,CAAiC,CAEhC,CAFD,IAEO,CACHtB,uBAAuB,CAACsB,GAAG,CAAC,CAAD,CAAH,CAAOC,EAAR,CAAvB,CACCF,IADD,CACM,SAAAC,GAAG,CAAI,CACTN,QAAQ,CAACM,GAAD,CAAR,CACAJ,WAAW,CAAC,IAAD,CAAX,CACH,CAJD,EAKCM,KALD,CAKO,SAAAC,GAAG,QAAIN,CAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ,CAAJ,EALV,EAMH,CACJ,CAZD,EAeH,CAlBQ,CAkBP,CAACb,QAAD,CAlBO,CAAT,CAoBA,GAAGK,QAAH,CAAY,CACR,mBACI,KAAC,OAAD,wBACI,KAAC,WAAD,WACMF,KAAK,CAACW,GAAN,CAAU,SAAAC,IAAI,qBACZ,KAAC,QAAD,EAAwB,IAAI,CAAEA,IAA9B,EAAeA,IAAI,CAACJ,EAApB,CADY,EAAd,CADN,EADJ,EADJ,CASH,CAVD,IAUO,CACP,mBACI,KAAC,OAAD,yBADJ,CAGC,CACJ","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { retrievePostsByCategory, retrievePosts, retrieveCategoryIdByName , retrieveCategories } from '../service/WPService';\nimport PostItem from './PostItem'\nimport styled from \"styled-components\";\nimport {Wrapper, Loading} from './Styled'\n\nconst PostSection = styled.div`\n    padding-top:3em;\n    padding-bottom:2em;\n    @media (max-width: 45em) {\n        display:flex;\n        flex-direction:column;\n        align-items:center;    \n    }\n`\n\nexport default function Posts(props) {\n\n    const [category] = useState(props.category)\n    const [categoryId, setCategoryId] = useState()\n    const [posts, setPosts] = useState([])\n    const [isLoaded, setIsLoaded] = useState(false)\n\n    useEffect( () => {\n        console.log(category)\n\n        retrieveCategoryIdByName(category)\n        .then( res => {\n            if(typeof res[0] === 'undefined'){\n\n            } else {\n                retrievePostsByCategory(res[0].id)\n                .then(res => {\n                    setPosts(res)\n                    setIsLoaded(true)\n                })\n                .catch(err => console.log(err));\n            }\n        })\n        \n\n    },[category])\n\n    if(isLoaded){\n        return (\n            <Wrapper>\n                <PostSection>\n                    { posts.map(post => (\n                        <PostItem key={post.id} post={post}/>\n                    ))}\n                </PostSection>\n            </Wrapper>\n        )\n    } else {\n    return(               \n        <Loading>Loading...</Loading>\n    )\n    }\n}"]},"metadata":{},"sourceType":"module"}