{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState,useEffect}from'react';import{Wrapper,Loading,Line}from'./Styled';import styled from'styled-components';import Comments from'./Comments/Comments';import{retrieveFeaturedMedia,retrievePost}from'../service/WPService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostWrapper=styled(Wrapper)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    max-width:50em;\\n    display:flex;\\n    flex-direction:column;\\n    @media (max-width: 50em) {\\n        margin:0;\\n    }\\n    border: 1px var(--s-7) solid;\\n\"])));var Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    background: url(\",\") no-repeat center center fixed; \\n    -webkit-background-size: cover;\\n    -moz-background-size: cover;\\n    -o-background-size: cover;\\n    background-size: cover;\\n    background-attachment: scroll;\\n    top: 0;\\n    bottom: 0;\\n    left: 50%;\\n    right: auto;\\n    position:fixed;\\n    height:calc(100vh);\\n    width:100vw;\\n    max-width:50em;\\n    z-index:1;\\n    margin-left:-25em;\\n    @media (max-width: 52em) {\\n        margin-left:0;\\n        left:0;\\n    }\\n\"])),function(props){return props.img;});var Margin=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    padding:.5em;\\n    background-color: var(--p-7);\\n    opacity:90%;\\n    z-index:2;\\n\"])));var Article=styled.article(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    z-index:2;\\n\"])));var InfoSection=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display:flex;\\n    justify-content: center;\\n    align-items: flex-end;\\n    max-width:100%;\\n    max-height:100%;\\n    height: calc(100vh - 5em);\\n    width: 100vw;\\n    z-index:2;\\n\"])));var Info=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    height:33vh;\\n    width:100%;\\n    background-color:var(--p-9);\\n    padding:2em;\\n    display:flex;\\n    flex-direction:column;\\n    justify-content:flex-start;\\n\"])));var Title=styled.h1(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    color:var(--p-1);\\n\"])));var Content=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n    width:100vw;\\n    max-width:100%;\\n    background-color:var(--p-9);\\n    padding:2em;\\n    display:flex;\\n    flex-direction:column;\\n    align-items:center; \\n    p{\\n        color:var(--p-1);\\n        text-align: justify;\\n    }\\n    img{\\n        height:auto;\\n        max-height:calc(80vh);\\n        width:auto;\\n        max-width:100%;\\n        object-fit: cover;\\n        display:block;\\n    }\\n\"])));var Date=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n    color:var(--p-1);\\n    font-size:.8em;\\n    align-self:flex-start;\\n\"])));export default function PostPage(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,1),depth=_useState8[0];useEffect(function(){var id=match.params.id;retrievePost(id).then(function(res){setPost(res);return retrieveFeaturedMedia(res.featured_media);}).then(function(res){if(!(res===null)){setImageUrl(res.media_details.sizes.full.source_url);}setIsLoaded(true);});},[match.params]);if(isLoaded){return/*#__PURE__*/_jsxs(PostWrapper,{children:[/*#__PURE__*/_jsx(Header,{img:imageUrl}),/*#__PURE__*/_jsx(InfoSection,{children:/*#__PURE__*/_jsxs(Info,{children:[/*#__PURE__*/_jsx(Line,{height:\"2px\"}),/*#__PURE__*/_jsx(Title,{dangerouslySetInnerHTML:{__html:post.title.rendered}}),/*#__PURE__*/_jsx(Line,{height:\"1px\"}),/*#__PURE__*/_jsx(Date,{dangerouslySetInnerHTML:{__html:post.date}}),/*#__PURE__*/_jsx(Line,{height:\"2px\"})]})}),/*#__PURE__*/_jsx(Article,{children:/*#__PURE__*/_jsx(Content,{dangerouslySetInnerHTML:{__html:post.content.rendered}})}),/*#__PURE__*/_jsx(Margin,{children:/*#__PURE__*/_jsx(Comments,{parent:\"0\",post:post.id,depth:depth})})]});}else{return/*#__PURE__*/_jsx(Loading,{children:\"Loading...\"});}}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/PostPage.js"],"names":["React","useState","useEffect","Wrapper","Loading","Line","styled","Comments","retrieveFeaturedMedia","retrievePost","PostWrapper","Header","div","props","img","Margin","Article","article","InfoSection","Info","Title","h1","Content","Date","span","PostPage","match","post","setPost","imageUrl","setImageUrl","isLoaded","setIsLoaded","depth","id","params","then","res","featured_media","media_details","sizes","full","source_url","__html","title","rendered","date","content"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Wrapper, Loading, Line} from './Styled'\nimport styled from 'styled-components'\nimport Comments from './Comments/Comments'\nimport { retrieveFeaturedMedia, retrievePost } from '../service/WPService';\n\nconst PostWrapper = styled(Wrapper)`\n    max-width:50em;\n    display:flex;\n    flex-direction:column;\n    @media (max-width: 50em) {\n        margin:0;\n    }\n    border: 1px var(--s-7) solid;\n`\n\nconst Header = styled.div`\n    background: url(${props => props.img}) no-repeat center center fixed; \n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n    background-attachment: scroll;\n    top: 0;\n    bottom: 0;\n    left: 50%;\n    right: auto;\n    position:fixed;\n    height:calc(100vh);\n    width:100vw;\n    max-width:50em;\n    z-index:1;\n    margin-left:-25em;\n    @media (max-width: 52em) {\n        margin-left:0;\n        left:0;\n    }\n`\n\nconst Margin = styled.div`\n    padding:.5em;\n    background-color: var(--p-7);\n    opacity:90%;\n    z-index:2;\n`\n\nconst Article = styled.article`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index:2;\n`\n\nconst InfoSection = styled.div`\n    display:flex;\n    justify-content: center;\n    align-items: flex-end;\n    max-width:100%;\n    max-height:100%;\n    height: calc(100vh - 5em);\n    width: 100vw;\n    z-index:2;\n`\n\nconst Info = styled.div`\n    height:33vh;\n    width:100%;\n    background-color:var(--p-9);\n    padding:2em;\n    display:flex;\n    flex-direction:column;\n    justify-content:flex-start;\n`\n\nconst Title = styled.h1`\n    color:var(--p-1);\n`\n\nconst Content = styled.div`\n    width:100vw;\n    max-width:100%;\n    background-color:var(--p-9);\n    padding:2em;\n    display:flex;\n    flex-direction:column;\n    align-items:center; \n    p{\n        color:var(--p-1);\n        text-align: justify;\n    }\n    img{\n        height:auto;\n        max-height:calc(80vh);\n        width:auto;\n        max-width:100%;\n        object-fit: cover;\n        display:block;\n    }\n`\n\nconst Date = styled.span`\n    color:var(--p-1);\n    font-size:.8em;\n    align-self:flex-start;\n`\nexport default function PostPage ({match}) {\n    const [post, setPost] = useState('');\n    const [imageUrl, setImageUrl] = useState('');\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [depth] = useState(0);\n\n    useEffect( () => {\n\n        const { id } = match.params;\n        retrievePost(id)\n        .then( res =>{\n            setPost(res)\n            return retrieveFeaturedMedia(res.featured_media)\n        })\n        .then(res => {\n            if(!(res === null)){\n                setImageUrl(res.media_details.sizes.full.source_url)\n            }\n            setIsLoaded(true)\n        })\n        \n    },[match.params])\n\n    if(isLoaded){\n        return(\n            <PostWrapper>\n                <Header img={imageUrl}>\n                </Header>\n                <InfoSection>\n                    <Info>\n                        <Line height=\"2px\"/>\n                        <Title dangerouslySetInnerHTML={{__html: post.title.rendered}}/>\n                        <Line height=\"1px\"/>\n                        <Date dangerouslySetInnerHTML={{__html: post.date}}/>\n                        <Line height=\"2px\"/>\n                    </Info>\n                </InfoSection>\n                <Article>\n                    <Content dangerouslySetInnerHTML={{__html: post.content.rendered}}/>\n                </Article>\n                <Margin>\n                    <Comments parent=\"0\" post={post.id} depth={depth}/>\n                </Margin>\n            </PostWrapper>\n        )\n    } else {\n        return (\n            <Loading>Loading...</Loading>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}