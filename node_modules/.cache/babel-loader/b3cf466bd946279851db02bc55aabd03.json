{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect}from'react';import{Wrapper,Loading}from'./Styled';import styled from'styled-components';import Comments from'./Comments/Comments';import{retrieveFeaturedMedia,retrievePost}from'../service/WPService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostWrapper=styled(Wrapper)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    background: url(\",\") no-repeat center center fixed; \\n    -webkit-background-size: cover;\\n    -moz-background-size: cover;\\n    -o-background-size: cover;\\n    background-size: cover;\\n\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    z-index: -10;\\n\"])),function(props){return props.img;});var Margin=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    padding:.5em;\\n    background-color: rgba(255,255,255,0.8);\\n\"])));var Article=styled.article(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n\"])));var Info=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display:flex;\\n    justify-content: center;\\n    align-items: center;\\n    max-width:100%;\\n    max-height:100%;\\n    height: 100vh;\\n    width: 100vw;\\n\"])));var Title=styled.h1(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    background-color:white;\\n    border-radius:.1em;\\n\"])));var Content=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    width:100vw;\\n    max-width:100%;\\n    background-color: rgba(255,255,255,1);\\n    padding:2em;\\n\"])));export default function PostPage(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,1),depth=_useState8[0];useEffect(function(){var id=match.params.id;retrievePost(id).then(function(res){setPost(res);return retrieveFeaturedMedia(res.featured_media);}).then(function(res){setImageUrl(res.media_details.sizes.full.source_url);setIsLoaded(true);});},[match.params]);if(isLoaded){return/*#__PURE__*/_jsxs(PostWrapper,{img:imageUrl,children:[/*#__PURE__*/_jsx(Info,{children:/*#__PURE__*/_jsx(Title,{children:post.title.rendered})}),/*#__PURE__*/_jsx(Article,{children:/*#__PURE__*/_jsx(Content,{dangerouslySetInnerHTML:{__html:post.content.rendered}})}),/*#__PURE__*/_jsx(Margin,{children:/*#__PURE__*/_jsx(Comments,{parent:\"0\",post:post.id,depth:depth})})]});}else{return/*#__PURE__*/_jsx(Loading,{children:\"Loading...\"});}}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/PostPage.js"],"names":["React","useState","useEffect","Wrapper","Loading","styled","Comments","retrieveFeaturedMedia","retrievePost","PostWrapper","props","img","Margin","div","Article","article","Info","Title","h1","Content","PostPage","match","post","setPost","imageUrl","setImageUrl","isLoaded","setIsLoaded","depth","id","params","then","res","featured_media","media_details","sizes","full","source_url","title","rendered","__html","content"],"mappings":"yXAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,OAAR,CAAiBC,OAAjB,KAA+B,UAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,qBAAT,CAAgCC,YAAhC,KAAoD,sBAApD,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGJ,MAAM,CAACF,OAAD,CAAT,gVACK,SAAAO,KAAK,QAAIA,CAAAA,KAAK,CAACC,GAAV,EADV,CAAjB,CAcA,GAAMC,CAAAA,MAAM,CAAGP,MAAM,CAACQ,GAAV,sIAAZ,CAKA,GAAMC,CAAAA,OAAO,CAAGT,MAAM,CAACU,OAAV,8KAAb,CAOA,GAAMC,CAAAA,IAAI,CAAGX,MAAM,CAACQ,GAAV,kOAAV,CAUA,GAAMI,CAAAA,KAAK,CAAGZ,MAAM,CAACa,EAAV,2HAAX,CAKA,GAAMC,CAAAA,OAAO,CAAGd,MAAM,CAACQ,GAAV,0KAAb,CAMA,cAAe,SAASO,CAAAA,QAAT,MAA4B,IAARC,CAAAA,KAAQ,MAARA,KAAQ,CACvC,cAAwBpB,QAAQ,CAAC,EAAD,CAAhC,wCAAOqB,IAAP,eAAaC,OAAb,eACA,eAAgCtB,QAAQ,CAAC,EAAD,CAAxC,yCAAOuB,QAAP,eAAiBC,WAAjB,eACA,eAAgCxB,QAAQ,CAAC,KAAD,CAAxC,yCAAOyB,QAAP,eAAiBC,WAAjB,eACA,eAAgB1B,QAAQ,CAAC,CAAD,CAAxB,yCAAO2B,KAAP,eAEA1B,SAAS,CAAE,UAAM,CACb,GAAQ2B,CAAAA,EAAR,CAAeR,KAAK,CAACS,MAArB,CAAQD,EAAR,CACArB,YAAY,CAACqB,EAAD,CAAZ,CACCE,IADD,CACO,SAAAC,GAAG,CAAG,CACTT,OAAO,CAACS,GAAD,CAAP,CACA,MAAOzB,CAAAA,qBAAqB,CAACyB,GAAG,CAACC,cAAL,CAA5B,CACH,CAJD,EAKCF,IALD,CAKM,SAAAC,GAAG,CAAI,CACTP,WAAW,CAACO,GAAG,CAACE,aAAJ,CAAkBC,KAAlB,CAAwBC,IAAxB,CAA6BC,UAA9B,CAAX,CACAV,WAAW,CAAC,IAAD,CAAX,CACH,CARD,EASH,CAXQ,CAWP,CAACN,KAAK,CAACS,MAAP,CAXO,CAAT,CAaA,GAAGJ,QAAH,CAAY,CACR,mBACI,MAAC,WAAD,EAAa,GAAG,CAAEF,QAAlB,wBACI,KAAC,IAAD,wBACI,KAAC,KAAD,WAAQF,IAAI,CAACgB,KAAL,CAAWC,QAAnB,EADJ,EADJ,cAII,KAAC,OAAD,wBACI,KAAC,OAAD,EAAS,uBAAuB,CAAE,CAACC,MAAM,CAAElB,IAAI,CAACmB,OAAL,CAAaF,QAAtB,CAAlC,EADJ,EAJJ,cAOI,KAAC,MAAD,wBACI,KAAC,QAAD,EAAU,MAAM,CAAC,GAAjB,CAAqB,IAAI,CAAEjB,IAAI,CAACO,EAAhC,CAAoC,KAAK,CAAED,KAA3C,EADJ,EAPJ,GADJ,CAaH,CAdD,IAcO,CACH,mBACI,KAAC,OAAD,yBADJ,CAGH,CACJ","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Wrapper, Loading} from './Styled'\nimport styled from 'styled-components'\nimport Comments from './Comments/Comments'\nimport { retrieveFeaturedMedia, retrievePost } from '../service/WPService';\n\nconst PostWrapper = styled(Wrapper)`\n    background: url(${props => props.img}) no-repeat center center fixed; \n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    z-index: -10;\n`\n\nconst Margin = styled.div`\n    padding:.5em;\n    background-color: rgba(255,255,255,0.8);\n`\n\nconst Article = styled.article`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n`\n\nconst Info = styled.div`\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    max-width:100%;\n    max-height:100%;\n    height: 100vh;\n    width: 100vw;\n`\n\nconst Title = styled.h1`\n    background-color:white;\n    border-radius:.1em;\n`\n\nconst Content = styled.div`\n    width:100vw;\n    max-width:100%;\n    background-color: rgba(255,255,255,1);\n    padding:2em;\n`\nexport default function PostPage ({match}) {\n    const [post, setPost] = useState('');\n    const [imageUrl, setImageUrl] = useState('');\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [depth] = useState(0);\n\n    useEffect( () => {\n        const { id } = match.params;\n        retrievePost(id)\n        .then( res =>{\n            setPost(res)\n            return retrieveFeaturedMedia(res.featured_media)\n        })\n        .then(res => {\n            setImageUrl(res.media_details.sizes.full.source_url)\n            setIsLoaded(true)\n        })\n    },[match.params])\n\n    if(isLoaded){\n        return(\n            <PostWrapper img={imageUrl}>\n                <Info>\n                    <Title>{post.title.rendered}</Title>\n                </Info>\n                <Article>\n                    <Content dangerouslySetInnerHTML={{__html: post.content.rendered}}/>\n                </Article>\n                <Margin>\n                    <Comments parent=\"0\" post={post.id} depth={depth}/>\n                </Margin>\n            </PostWrapper>\n        )\n    } else {\n        return (\n            <Loading>Loading...</Loading>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}