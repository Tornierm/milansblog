{"ast":null,"code":"var _jsxFileName = \"/Users/milantornier/Desktop/MySite/milansblog/src/components/PostItem.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport \"../App.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class PostItem extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageUrl: '',\n      author: '',\n      isLoaded: false\n    };\n    this.history = useHistory();\n  }\n\n  componentDidMount() {\n    const {\n      featured_media,\n      author\n    } = this.props.post;\n    const getImageUrl = axios(`/wp-json/wp/v2/media/${featured_media}`);\n    const getAuthor = axios(`/wp-json/wp/v2/users/${author}`);\n    Promise.all([getImageUrl, getAuthor]).then(res => {\n      this.setState({\n        imageUrl: res[0].data.media_details.sizes.full.source_url,\n        author: res[1].data.name,\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      title,\n      excerpt,\n      id\n    } = this.props.post;\n    const {\n      imageUrl,\n      isLoaded\n    } = this.state;\n\n    if (isLoaded) {\n      var _s = $RefreshSig$();\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"post-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"square\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"img\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: imageUrl,\n            alt: title.rendered\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"title\",\n            children: /*#__PURE__*/_jsxDEV(\"h5\", {\n              children: title.rendered\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"excerpt\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              dangerouslySetInnerHTML: {\n                __html: excerpt.rendered\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            class: \"my-button\",\n            onClick: _s(() => {\n              _s();\n\n              return useHistory().push({\n                pathname: `/post/${id}`,\n                state: this.props.post\n              });\n            }, \"ebO9cvF3Ou0GZnyLIaifBK5vWck=\", false, function () {\n              return [useHistory];\n            }),\n            children: \"READ MORE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this);\n    }\n\n    return null;\n  }\n\n}\nPostItem.propTypes = {\n  post: PropTypes.object.isRequired\n};\nexport default PostItem;","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/PostItem.js"],"names":["React","Component","PropTypes","axios","useHistory","PostItem","state","imageUrl","author","isLoaded","history","componentDidMount","featured_media","props","post","getImageUrl","getAuthor","Promise","all","then","res","setState","data","media_details","sizes","full","source_url","name","render","title","excerpt","id","rendered","__html","push","pathname","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport \"../App.css\";\nimport { useHistory } from \"react-router-dom\";\n\nexport class PostItem extends Component {\n    state =Â {\n        imageUrl: '',\n        author: '',\n        isLoaded: false\n    }\n    history = useHistory();\n\n    static propTypes = {\n        post: PropTypes.object.isRequired,\n    }\n\n    componentDidMount(){\n        const { featured_media, author } = this.props.post;\n        const getImageUrl = axios(`/wp-json/wp/v2/media/${featured_media}`);\n        const getAuthor = axios(`/wp-json/wp/v2/users/${author}`);\n        Promise.all([getImageUrl, getAuthor]).then(res => {\n            this.setState({\n                imageUrl: res[0].data.media_details.sizes.full.source_url,\n                author: res[1].data.name,\n                isLoaded: true\n            })\n        });\n\n    }\n    render() {\n        const { title, excerpt, id}  = this.props.post;\n        const { imageUrl, isLoaded} = this.state;\n        if(isLoaded){\n            return (\n                <div class=\"post-item\">\n                    <div class=\"square\"></div> \n                    <div class=\"img\">\n                        <img src={imageUrl} alt={title.rendered}/>\n                    </div>\n                    <div class=\"info\">\n                        <div class=\"title\">\n                            <h5>{title.rendered}</h5>\n                        </div>\n                        <div class=\"excerpt\">\n                            <div dangerouslySetInnerHTML={{__html: excerpt.rendered }}/>\n                        </div>\n                        <button class=\"my-button\" \n                            onClick={()=> useHistory().push({\n                                pathname: `/post/${id}`,\n                                state: this.props.post\n                            })}>READ MORE\n                        </button>\n                        \n                    </div>\n                </div>\n            )\n        }\n        return null;\n    }\n}\n\nexport default PostItem\n"]},"metadata":{},"sourceType":"module"}