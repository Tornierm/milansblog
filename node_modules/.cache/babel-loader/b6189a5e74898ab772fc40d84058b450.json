{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6;import React,{useState,useEffect}from'react';import{useInView}from'react-intersection-observer';import{Wrapper,H1,PrimaryButton}from'../components/Styled';import Input from'../components/Basics/Input';import TextField from'../components/Basics/TextField';import styled,{keyframes,css}from\"styled-components\";import{contactFormSubmission}from\"../service/WPService.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled(Wrapper)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    min-height:60vh;\\n    padding 1em;\\n    transition: 1.5s ease-in-out;\\n    opacity:0;\\n    \",\"\\n\"])),function(props){return props.appear&&css(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n        opacity:1;\\n    \"])));});var Form=styled.form(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    border: 2px solid var(--s-3);\\n    border-radius:.5em;\\n    padding:3em 1em;\\n    width:100%;\\n    margin:0 auto;\\n    display:flex;\\n    flex-direction:column;\\n    align-items:center;\\n    max-width:30em;\\n    @media (min-width: 45em) {\\n        min-width:40em;\\n    }\\n\"])));var line=keyframes(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    0% {\\n        transform:scaleY(0);\\n    }\\n    100% {\\n        transform:scaleY(1);\\n    }\\n\"])));var ValidationHints=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    width:290px;\\n    p{\\n        margin:0 1em;\\n        background-color:var(--s-3);\\n        color:var(--p-10);\\n        border-radius:0 0 .3em .3em;\\n        padding:8px 16px;\\n    }\\n    transform-origin:top;\\n    transform:scale(0);\\n    animation:\",\" .4s ease-in-out forwards;\\n\"])),line);var Feedback=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    margin:1em;\\n    p{\\n        background-color:var(--s-3);\\n        color:var(--p-10);\\n    }\\n\"])));export default function Contact(_ref){var innerRef=_ref.innerRef,appear=_ref.appear;var options1={\"threshold\":1,\"rootMargin\":\"0px 0px\"};var _useInView=useInView(options1),ref1=_useInView.ref,visible1=_useInView.inView;var _useState=useState(),_useState2=_slicedToArray(_useState,2),animate1=_useState2[0],setAnimate1=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),eMail=_useState6[0],setEMail=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),subject=_useState10[0],setSubject=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),nameError=_useState12[0],setNameError=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),eMailError=_useState14[0],setEMailError=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),messageError=_useState16[0],setMessageError=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),numberError=_useState18[0],setNumberError=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),feedback=_useState20[0],setFeedback=_useState20[1];var nameChange=function nameChange(name){if(name.length<3){setNameError(\"Name must have 3 letters\");}else{setNameError(null);}};var emailChange=function emailChange(eMail){if(!eMail.match(//eslint-disable-next-line\n/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)){setEMailError(\"invalid E-mail\");}else{setEMailError(null);}};var subjectChange=function subjectChange(subject){if(subject.length===0){setNumberError(\"Whats your inquiry about ?\");}else{setNumberError(null);}};var messageChange=function messageChange(message){if(message.length<30){var tmp=\"Tell me more :) (\"+(30-message.length).toString()+\" letters)\";setMessageError(tmp);}else{setMessageError(null);}};var submit=function submit(){var emailBody={\"your-name\":name,\"your-email\":eMail,\"your-message\":message,\"your-subject\":subject};var form=new FormData();for(var field in emailBody){form.append(field,emailBody[field]);}contactFormSubmission(form).then(function(res){return setFeedback(res.message);});};useEffect(function(){if(visible1){setAnimate1(true);}},[visible1]);return/*#__PURE__*/_jsx(Container,{ref:ref1,appear:animate1,children:/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsx(H1,{children:\"Contact\"}),/*#__PURE__*/_jsx(Input,{label:\"Name\",onchange:function onchange(name){return nameChange(name);},value:name,setValue:function setValue(name){return setName(name);}}),nameError?/*#__PURE__*/_jsx(ValidationHints,{children:/*#__PURE__*/_jsx(\"p\",{children:nameError})}):null,/*#__PURE__*/_jsx(Input,{label:\"E-Mail\",onchange:function onchange(eMail){return emailChange(eMail);},value:eMail,setValue:function setValue(eMail){return setEMail(eMail);}}),eMailError?/*#__PURE__*/_jsx(ValidationHints,{children:/*#__PURE__*/_jsx(\"p\",{children:eMailError})}):null,/*#__PURE__*/_jsx(Input,{label:\"Subject\",onchange:function onchange(subject){return subjectChange(subject);},value:subject,setValue:function setValue(subject){return setSubject(subject);}}),numberError?/*#__PURE__*/_jsx(ValidationHints,{children:/*#__PURE__*/_jsx(\"p\",{children:numberError})}):null,/*#__PURE__*/_jsx(TextField,{label:\"Message\",onchange:function onchange(message){return messageChange(message);},value:message,setValue:function setValue(message){return setMessage(message);}}),messageError?/*#__PURE__*/_jsx(ValidationHints,{children:/*#__PURE__*/_jsx(\"p\",{children:messageError})}):null,/*#__PURE__*/_jsx(PrimaryButton,{onClick:function onClick(e){e.preventDefault();submit();},children:\"Send\"}),/*#__PURE__*/_jsx(Feedback,{children:/*#__PURE__*/_jsx(\"p\",{children:feedback})})]})});}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/Sections/Contact.js"],"names":["React","useState","useEffect","useInView","Wrapper","H1","PrimaryButton","Input","TextField","styled","keyframes","css","contactFormSubmission","Container","props","appear","Form","form","line","ValidationHints","div","Feedback","Contact","innerRef","options1","ref1","ref","visible1","inView","animate1","setAnimate1","name","setName","eMail","setEMail","message","setMessage","subject","setSubject","nameError","setNameError","eMailError","setEMailError","messageError","setMessageError","numberError","setNumberError","feedback","setFeedback","nameChange","length","emailChange","match","subjectChange","messageChange","tmp","toString","submit","emailBody","FormData","field","append","then","res","e","preventDefault"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport  {useInView} from 'react-intersection-observer'\n\nimport {Wrapper, H1, PrimaryButton} from '../components/Styled';\nimport Input from '../components/Basics/Input'\nimport TextField from '../components/Basics/TextField'\nimport styled, {keyframes, css} from \"styled-components\";\n\nimport {contactFormSubmission} from \"../service/WPService.js\"\n\nconst Container = styled(Wrapper)`\n    min-height:60vh;\n    padding 1em;\n    transition: 1.5s ease-in-out;\n    opacity:0;\n    ${props => props.appear && css`\n        opacity:1;\n    `}\n`\n\nconst Form = styled.form`\n    border: 2px solid var(--s-3);\n    border-radius:.5em;\n    padding:3em 1em;\n    width:100%;\n    margin:0 auto;\n    display:flex;\n    flex-direction:column;\n    align-items:center;\n    max-width:30em;\n    @media (min-width: 45em) {\n        min-width:40em;\n    }\n`\n\nconst line = keyframes`\n    0% {\n        transform:scaleY(0);\n    }\n    100% {\n        transform:scaleY(1);\n    }\n`;\n\nconst ValidationHints = styled.div`\n    width:290px;\n    p{\n        margin:0 1em;\n        background-color:var(--s-3);\n        color:var(--p-10);\n        border-radius:0 0 .3em .3em;\n        padding:8px 16px;\n    }\n    transform-origin:top;\n    transform:scale(0);\n    animation:${line} .4s ease-in-out forwards;\n`\nconst Feedback = styled.div`\n    margin:1em;\n    p{\n        background-color:var(--s-3);\n        color:var(--p-10);\n    }\n`\n\nexport default function Contact({innerRef, appear}) {\n    const options1= {\n        \"threshold\": 1,\n        \"rootMargin\": \"0px 0px\"\n    }\n\n    const {ref: ref1, inView: visible1} = useInView(options1);\n    const [animate1, setAnimate1] = useState();\n\n    const [name, setName] = useState('')\n    const [eMail, setEMail] = useState('')\n    const [message, setMessage] = useState('')\n    const [subject, setSubject] = useState('')\n\n    const [nameError, setNameError] = useState('')\n    const [eMailError, setEMailError] = useState('')\n    const [messageError, setMessageError] = useState('')\n    const [numberError, setNumberError] = useState('')\n\n    const [feedback, setFeedback] = useState('')\n\n    const nameChange = (name) =>  {\n        if(name.length < 3){\n            setNameError(\"Name must have 3 letters\")\n        } else {\n            setNameError(null)\n        }\n    }\n\n    const emailChange = (eMail) => {\n        if(\n            !eMail.match(\n                //eslint-disable-next-line\n                /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/\n            )\n        ){\n            setEMailError(\"invalid E-mail\")\n        } else {\n            setEMailError(null)\n        }\n    }\n\n    const subjectChange = (subject) => {\n        \n        if(\n            subject.length === 0\n            ){\n            setNumberError(\"Whats your inquiry about ?\")\n        } else {\n            setNumberError(null)\n        }\n    }\n\n    const messageChange = (message) => {\n        if(\n            message.length < 30\n        ){\n            let tmp = \"Tell me more :) (\" + (30-message.length).toString() + \" letters)\";\n            setMessageError(tmp)\n        } else {\n            setMessageError(null)\n        }\n    }\n\n    const submit = () => {\n        let emailBody = {\n            \"your-name\": name,\n            \"your-email\": eMail,\n            \"your-message\": message,\n            \"your-subject\": subject,\n        };\n        const form = new FormData();\n        for (const field in emailBody) {\n            form.append(field, emailBody[field]);\n        }\n        contactFormSubmission(form).then(res=>setFeedback(res.message));\n    }\n\n    useEffect(() => {\n        if(visible1){\n            setAnimate1(true)\n        }\n    }, [visible1])\n\n    return (\n        <Container ref={ref1} appear={animate1}>\n            <Form>\n                <H1>Contact</H1>\n                <Input label='Name' onchange={(name) => nameChange(name)} value={name} setValue={(name) => setName(name)} />\n                {nameError ? <ValidationHints><p>{nameError}</p></ValidationHints>: null}\n                <Input label='E-Mail' onchange={(eMail) => emailChange(eMail)} value={eMail} setValue={(eMail) => setEMail(eMail)} />\n                {eMailError ? <ValidationHints><p>{eMailError}</p></ValidationHints>: null}\n                <Input label='Subject' onchange={(subject) => subjectChange(subject)} value={subject} setValue={(subject) => setSubject(subject)} />\n                {numberError ? <ValidationHints><p>{numberError}</p></ValidationHints>: null}\n                <TextField label='Message' onchange={(message) => messageChange(message)} value={message} setValue={(message) => setMessage(message)} />\n                {messageError ? <ValidationHints><p>{messageError}</p></ValidationHints>: null}\n                <PrimaryButton  onClick={(e) =>{e.preventDefault(); submit()}}>Send</PrimaryButton>\n                <Feedback><p>{feedback}</p></Feedback>\n            </Form>\n        </Container>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}