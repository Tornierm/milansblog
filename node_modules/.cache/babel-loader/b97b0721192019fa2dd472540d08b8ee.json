{"ast":null,"code":"var _jsxFileName = \"/Users/milantornier/Desktop/MySite/milansblog/src/components/Posts.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { retrievePosts } from '../service/WPService';\nimport PostItem from './PostItem';\nimport styled from \"styled-components\";\nimport { Wrapper, Loading } from './Styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PostSection = styled.div`\n    padding-top:5em;\n    @media (max-width: 45em) {\n        display:flex;\n        flex-direction:column;\n        align-items:center;    \n    }\n`;\n_c = PostSection;\nexport default function Posts(props) {\n  _s();\n\n  const [posts, setPosts] = useState([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [scrollpos, setScrollpos] = useState(window.pageYOffset);\n  const [visible, setVisible] = useState(true);\n  useEffect(() => {\n    window.addEventListener(\"scroll\", handleScroll);\n    retrievePosts().then(res => {\n      setPosts(res);\n      setIsLoaded(true);\n    }).catch(err => console.log(err));\n    return window.removeEventListener(\"scroll\", handleScroll);\n  }, [handleScroll]);\n\n  const handleScroll = () => {\n    const currentScrollPos = window.pageYOffset;\n    const visible = scrollpos > currentScrollPos;\n    setScrollpos(currentScrollPos);\n    setVisible(visible);\n    console.log(visible);\n  };\n\n  if (isLoaded) {\n    return /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(PostSection, {\n        children: posts.map(post => /*#__PURE__*/_jsxDEV(PostItem, {\n          post: post\n        }, post.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(Loading, {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this);\n  }\n}\n\n_s(Posts, \"sBRCSGXIRS3tKVA3QUAqOEITV50=\");\n\n_c2 = Posts;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"PostSection\");\n$RefreshReg$(_c2, \"Posts\");","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/Posts.js"],"names":["React","useState","useEffect","retrievePosts","PostItem","styled","Wrapper","Loading","PostSection","div","Posts","props","posts","setPosts","isLoaded","setIsLoaded","scrollpos","setScrollpos","window","pageYOffset","visible","setVisible","addEventListener","handleScroll","then","res","catch","err","console","log","removeEventListener","currentScrollPos","map","post","id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,aAAT,QAA8B,sBAA9B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAAQC,OAAR,EAAiBC,OAAjB,QAA+B,UAA/B;;AAEA,MAAMC,WAAW,GAAGH,MAAM,CAACI,GAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAPA;KAAMD,W;AASN,eAAe,SAASE,KAAT,CAAeC,KAAf,EAAsB;AAAA;;AAEjC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAACiB,MAAM,CAACC,WAAR,CAA1C;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBpB,QAAQ,CAAC,IAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAE,MAAM;AACbgB,IAAAA,MAAM,CAACI,gBAAP,CAAwB,QAAxB,EAAkCC,YAAlC;AAEApB,IAAAA,aAAa,GACZqB,IADD,CACMC,GAAG,IAAI;AACTZ,MAAAA,QAAQ,CAACY,GAAD,CAAR;AACAV,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH,KAJD,EAKCW,KALD,CAKOC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CALd;AAOA,WACIT,MAAM,CAACY,mBAAP,CAA2B,QAA3B,EAAqCP,YAArC,CADJ;AAGH,GAbQ,EAaP,CAACA,YAAD,CAbO,CAAT;;AAeA,QAAMA,YAAY,GAAG,MAAM;AACvB,UAAMQ,gBAAgB,GAAGb,MAAM,CAACC,WAAhC;AACA,UAAMC,OAAO,GAAGJ,SAAS,GAAGe,gBAA5B;AAEAd,IAAAA,YAAY,CAACc,gBAAD,CAAZ;AACAV,IAAAA,UAAU,CAACD,OAAD,CAAV;AAEAQ,IAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACD,GARH;;AAUA,MAAGN,QAAH,EAAY;AACR,wBACI,QAAC,OAAD;AAAA,6BACI,QAAC,WAAD;AAAA,kBACMF,KAAK,CAACoB,GAAN,CAAUC,IAAI,iBACZ,QAAC,QAAD;AAAwB,UAAA,IAAI,EAAEA;AAA9B,WAAeA,IAAI,CAACC,EAApB;AAAA;AAAA;AAAA;AAAA,gBADF;AADN;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AASH,GAVD,MAUO;AACP,wBACI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAGC;AACJ;;GA/CuBxB,K;;MAAAA,K","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { retrievePosts } from '../service/WPService';\nimport PostItem from './PostItem'\nimport styled from \"styled-components\";\nimport {Wrapper, Loading} from './Styled'\n\nconst PostSection = styled.div`\n    padding-top:5em;\n    @media (max-width: 45em) {\n        display:flex;\n        flex-direction:column;\n        align-items:center;    \n    }\n`\n\nexport default function Posts(props) {\n\n    const [posts, setPosts] = useState([])\n    const [isLoaded, setIsLoaded] = useState(false)\n    const [scrollpos, setScrollpos] = useState(window.pageYOffset)\n    const [visible, setVisible] = useState(true);\n\n    useEffect( () => {\n        window.addEventListener(\"scroll\", handleScroll);\n\n        retrievePosts()\n        .then(res => {\n            setPosts(res)\n            setIsLoaded(true)\n        })\n        .catch(err => console.log(err));\n\n        return(\n            window.removeEventListener(\"scroll\", handleScroll)\n        )\n    },[handleScroll])\n\n    const handleScroll = () => {\n        const currentScrollPos = window.pageYOffset;\n        const visible = scrollpos > currentScrollPos;\n      \n        setScrollpos(currentScrollPos)\n        setVisible(visible)\n\n        console.log(visible)\n      };\n\n    if(isLoaded){\n        return (\n            <Wrapper>\n                <PostSection>\n                    { posts.map(post => (\n                        <PostItem key={post.id} post={post}/>\n                    ))}\n                </PostSection>\n            </Wrapper>\n        )\n    } else {\n    return(               \n        <Loading>Loading...</Loading>\n    )\n    }\n}"]},"metadata":{},"sourceType":"module"}