{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect}from'react';import{Link}from\"react-router-dom\";import styled from\"styled-components\";import{retrieveFeaturedMedia,retrieveAuthor}from'../service/WPService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Info=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    width: 25em;\\n    height: 25em;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: space-around;\\n    align-items: center;\\n    border:2px solid var(--p-5);\\n    transform: translate(0em, 2.5em);\\n    background-color:var(--p-9);\\n    padding:1em 2em 1em 2em;\\n    @media (max-width: 45em) {\\n        width: 95vw;\\n        max-width:30em;\\n        transform: translate(0em, 0em);\\n        background: url(\",\") no-repeat center center scroll; \\n        -webkit-background-size: cover;\\n        -moz-background-size: cover;\\n        -o-background-size: cover;\\n        background-size: cover;\\n    }\\n\"])),function(props){return props.img;});var ImageContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    margin-left:auto;\\n    margin-right:0;\\n    transform: translate(2.5em, -5em);\\n    @media (max-width: 45em) {\\n        display:none;\\n    }\\n\"])));var Image=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width:20em;\\n    height:25em;\\n    object-fit: cover;\\n    display:block;\\n    @media (max-width: 45em) {\\n        display:none;\\n    }\\n\"])));var Item=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    background: linear-gradient(90deg, var(--p-3) 10em, transparent 10em);\\n    max-width: 800px;\\n    display: flex;\\n    margin: 7em 0em 0em 0em;\\n    margin-right:auto;\\n    @media (max-width: 45em) {\\n       flex-direction:column; \\n       margin:2.5em 0 0 0;\\n    }\\n    :nth-child(even){\\n        background: linear-gradient(to left, var(--p-3) 10em, transparent 10em);\\n        margin: 0em 0em 20em 0em;\\n        margin-left:auto;\\n        margin-right:0;\\n        @media (max-width: 45em) {\\n            margin:0;\\n            margin:2.5em 0 0 0;\\n         }\\n    }\\n    :nth-child(even) \",\"{\\n        transform: translate(-2.5em, 5em);\\n        order:2;\\n        margin-left:0;\\n        margin-right:auto;\\n    }\\n    :nth-child(even) \",\"{\\n        transform: translate(0em, 12.5em);\\n        @media (max-width: 45em) {\\n            transform: translate(0em, 0em);\\n         }\\n    }\\n    \\n\"])),ImageContainer,Info);var Titel=styled.h1(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    color:var(--p-1);\\n    text-align: center;\\n    margin: 0em;\\n    padding: 0em;\\n    @media (max-width: 45em) {\\n        padding:.2em 1em;\\n        margin:0;\\n        color:var(--p-1);\\n        background-color:var(--p-9);\\n        border-radius:.1em;\\n     }\\n\"])));var Excerpt=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    overflow: hidden;\\n    text-align:justify;\\n    margin: 0em;\\n    padding: 0em;\\n    @media (max-width: 45em) {\\n        display:none;\\n    }\\n    p{\\n        color:var(--p-1);\\n    }\\n\"])));var ReadMore=styled(Link)(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    background-color: var(--s-dark);\\n    color:white;\\n    border-radius: .4em;\\n    display: inline-block;\\n    text-align: center;\\n    text-decoration: none;\\n    border:none;\\n    width: 10em;\\n    margin:1em 0em 0em 0em;\\n    padding:.5em;\\n    :hover{\\n        background-color: Black;\\n        color:var(--s-dark);\\n        transition: .5s;\\n    }\\n\"])));export default function PostItem(props){var _useState=useState(props.post),_useState2=_slicedToArray(_useState,1),post=_useState2[0];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];useEffect(function(){var getImageUrl=retrieveFeaturedMedia(post.featured_media);var getAuthor=retrieveAuthor(post.author);Promise.all([getImageUrl,getAuthor]).then(function(res){if(!(res[0]===null)){setImageUrl(res[0].media_details.sizes.full.source_url);}setIsLoaded(true);});},[post.author,post.featured_media]);if(isLoaded){return/*#__PURE__*/_jsxs(Item,{children:[/*#__PURE__*/_jsx(ImageContainer,{children:/*#__PURE__*/_jsx(Image,{src:imageUrl,alt:post.title.rendered})}),/*#__PURE__*/_jsxs(Info,{img:imageUrl,children:[/*#__PURE__*/_jsx(Titel,{dangerouslySetInnerHTML:{__html:post.title.rendered}}),/*#__PURE__*/_jsx(Excerpt,{dangerouslySetInnerHTML:{__html:post.excerpt.rendered.substring(0,300)}}),/*#__PURE__*/_jsx(ReadMore,{to:{pathname:\"/post/\".concat(post.id)},children:\"Read More.\"})]})]});}else{return null;}}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/PostItem.js"],"names":["React","useState","useEffect","Link","styled","retrieveFeaturedMedia","retrieveAuthor","Info","div","props","img","ImageContainer","Image","Item","Titel","h1","Excerpt","ReadMore","PostItem","post","imageUrl","setImageUrl","isLoaded","setIsLoaded","getImageUrl","featured_media","getAuthor","author","Promise","all","then","res","media_details","sizes","full","source_url","title","rendered","__html","excerpt","substring","pathname","id"],"mappings":"0YAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,qBAAT,CAAgCC,cAAhC,KAAsD,sBAAtD,C,wFAGA,GAAMC,CAAAA,IAAI,CAAGH,MAAM,CAACI,GAAV,krBAegB,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,GAAV,EAfrB,CAAV,CAsBA,GAAMC,CAAAA,cAAc,CAAGP,MAAM,CAACI,GAAV,uNAApB,CAQA,GAAMI,CAAAA,KAAK,CAAGR,MAAM,CAACM,GAAV,kNAAX,CASA,GAAMG,CAAAA,IAAI,CAAGT,MAAM,CAACI,GAAV,y8BAoBaG,cApBb,CA0BaJ,IA1Bb,CAAV,CAkCA,GAAMO,CAAAA,KAAK,CAAGV,MAAM,CAACW,EAAV,8UAAX,CAaA,GAAMC,CAAAA,OAAO,CAAGZ,MAAM,CAACI,GAAV,kQAAb,CAaA,GAAMS,CAAAA,QAAQ,CAAGb,MAAM,CAACD,IAAD,CAAT,0aAAd,CAiBA,cAAe,SAASe,CAAAA,QAAT,CAAmBT,KAAnB,CAA0B,CACrC,cAAeR,QAAQ,CAACQ,KAAK,CAACU,IAAP,CAAvB,wCAAOA,IAAP,eACA,eAAgClB,QAAQ,CAAC,EAAD,CAAxC,yCAAOmB,QAAP,eAAiBC,WAAjB,eACA,eAAgCpB,QAAQ,CAAC,KAAD,CAAxC,yCAAOqB,QAAP,eAAiBC,WAAjB,eAEArB,SAAS,CAAE,UAAM,CACb,GAAMsB,CAAAA,WAAW,CAAGnB,qBAAqB,CAACc,IAAI,CAACM,cAAN,CAAzC,CACA,GAAMC,CAAAA,SAAS,CAAGpB,cAAc,CAACa,IAAI,CAACQ,MAAN,CAAhC,CACAC,OAAO,CAACC,GAAR,CAAY,CAACL,WAAD,CAAcE,SAAd,CAAZ,EAAsCI,IAAtC,CAA2C,SAAAC,GAAG,CAAI,CAC9C,GAAG,EAAEA,GAAG,CAAC,CAAD,CAAH,GAAW,IAAb,CAAH,CAAsB,CAClBV,WAAW,CAACU,GAAG,CAAC,CAAD,CAAH,CAAOC,aAAP,CAAqBC,KAArB,CAA2BC,IAA3B,CAAgCC,UAAjC,CAAX,CACH,CACDZ,WAAW,CAAC,IAAD,CAAX,CACH,CALD,EAMH,CATQ,CASP,CAACJ,IAAI,CAACQ,MAAN,CAAcR,IAAI,CAACM,cAAnB,CATO,CAAT,CAWA,GAAGH,QAAH,CAAY,CACR,mBACI,MAAC,IAAD,yBACI,KAAC,cAAD,wBACI,KAAC,KAAD,EAAO,GAAG,CAAEF,QAAZ,CAAsB,GAAG,CAAED,IAAI,CAACiB,KAAL,CAAWC,QAAtC,EADJ,EADJ,cAII,MAAC,IAAD,EAAM,GAAG,CAAEjB,QAAX,wBACI,KAAC,KAAD,EAAO,uBAAuB,CAAE,CAACkB,MAAM,CAAEnB,IAAI,CAACiB,KAAL,CAAWC,QAApB,CAAhC,EADJ,cAEI,KAAC,OAAD,EAAS,uBAAuB,CAAE,CAACC,MAAM,CAAEnB,IAAI,CAACoB,OAAL,CAAaF,QAAb,CAAsBG,SAAtB,CAAgC,CAAhC,CAAkC,GAAlC,CAAT,CAAlC,EAFJ,cAGI,KAAC,QAAD,EAAU,EAAE,CAAE,CACVC,QAAQ,iBAAWtB,IAAI,CAACuB,EAAhB,CADE,CAAd,wBAHJ,GAJJ,GADJ,CAgBH,CAjBD,IAkBK,CACD,MAAQ,KAAR,CACH,CAEJ","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {Link} from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { retrieveFeaturedMedia, retrieveAuthor } from '../service/WPService';\n\n\nconst Info = styled.div`\n    width: 25em;\n    height: 25em;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    border:2px solid var(--p-5);\n    transform: translate(0em, 2.5em);\n    background-color:var(--p-9);\n    padding:1em 2em 1em 2em;\n    @media (max-width: 45em) {\n        width: 95vw;\n        max-width:30em;\n        transform: translate(0em, 0em);\n        background: url(${props => props.img}) no-repeat center center scroll; \n        -webkit-background-size: cover;\n        -moz-background-size: cover;\n        -o-background-size: cover;\n        background-size: cover;\n    }\n`\nconst ImageContainer = styled.div`\n    margin-left:auto;\n    margin-right:0;\n    transform: translate(2.5em, -5em);\n    @media (max-width: 45em) {\n        display:none;\n    }\n`\nconst Image = styled.img`\n    width:20em;\n    height:25em;\n    object-fit: cover;\n    display:block;\n    @media (max-width: 45em) {\n        display:none;\n    }\n`\nconst Item = styled.div`\n    background: linear-gradient(90deg, var(--p-3) 10em, transparent 10em);\n    max-width: 800px;\n    display: flex;\n    margin: 7em 0em 0em 0em;\n    margin-right:auto;\n    @media (max-width: 45em) {\n       flex-direction:column; \n       margin:2.5em 0 0 0;\n    }\n    :nth-child(even){\n        background: linear-gradient(to left, var(--p-3) 10em, transparent 10em);\n        margin: 0em 0em 20em 0em;\n        margin-left:auto;\n        margin-right:0;\n        @media (max-width: 45em) {\n            margin:0;\n            margin:2.5em 0 0 0;\n         }\n    }\n    :nth-child(even) ${ImageContainer}{\n        transform: translate(-2.5em, 5em);\n        order:2;\n        margin-left:0;\n        margin-right:auto;\n    }\n    :nth-child(even) ${Info}{\n        transform: translate(0em, 12.5em);\n        @media (max-width: 45em) {\n            transform: translate(0em, 0em);\n         }\n    }\n    \n`\nconst Titel = styled.h1`\n    color:var(--p-1);\n    text-align: center;\n    margin: 0em;\n    padding: 0em;\n    @media (max-width: 45em) {\n        padding:.2em 1em;\n        margin:0;\n        color:var(--p-1);\n        background-color:var(--p-9);\n        border-radius:.1em;\n     }\n`\nconst Excerpt = styled.div`\n    overflow: hidden;\n    text-align:justify;\n    margin: 0em;\n    padding: 0em;\n    @media (max-width: 45em) {\n        display:none;\n    }\n    p{\n        color:var(--p-1);\n    }\n`\n\nconst ReadMore = styled(Link)`\n    background-color: var(--s-dark);\n    color:white;\n    border-radius: .4em;\n    display: inline-block;\n    text-align: center;\n    text-decoration: none;\n    border:none;\n    width: 10em;\n    margin:1em 0em 0em 0em;\n    padding:.5em;\n    :hover{\n        background-color: Black;\n        color:var(--s-dark);\n        transition: .5s;\n    }\n`\nexport default function PostItem (props) {\n    const [post] = useState(props.post);\n    const [imageUrl, setImageUrl] = useState('');\n    const [isLoaded, setIsLoaded] = useState(false);\n\n    useEffect( () => {\n        const getImageUrl = retrieveFeaturedMedia(post.featured_media)\n        const getAuthor = retrieveAuthor(post.author)\n        Promise.all([getImageUrl, getAuthor]).then(res => {\n            if(!(res[0] === null)){\n                setImageUrl(res[0].media_details.sizes.full.source_url)\n            }\n            setIsLoaded(true)\n        });\n    },[post.author, post.featured_media])\n\n    if(isLoaded){\n        return (\n            <Item>\n                <ImageContainer>\n                    <Image src={imageUrl} alt={post.title.rendered}/>\n                </ImageContainer>\n                <Info img={imageUrl}>\n                    <Titel dangerouslySetInnerHTML={{__html: post.title.rendered}}/>\n                    <Excerpt dangerouslySetInnerHTML={{__html: post.excerpt.rendered.substring(0,300) }}/>\n                    <ReadMore to={{\n                        pathname: `/post/${post.id}`\n                    }}>\n                        Read More.\n                    </ReadMore>\n                </Info>\n            </Item>\n        )\n    }\n    else {\n        return (null);\n    }\n    \n}\n\n\n"]},"metadata":{},"sourceType":"module"}