{"ast":null,"code":"import _slicedToArray from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/milantornier/Desktop/MySite/milansblog/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7;import React,{useState,useEffect}from'react';import{Wrapper,Loading}from'./Styled';import styled from'styled-components';import Comments from'./Comments/Comments';import{retrieveFeaturedMedia,retrievePost}from'../service/WPService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostWrapper=styled(Wrapper)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    max-width:50em;\\n    display:flex;\\n    flex-direction:column;\\n\"])));var Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    background: url(\",\") no-repeat center center fixed; \\n    -webkit-background-size: cover;\\n    -moz-background-size: cover;\\n    -o-background-size: cover;\\n    background-size: cover;\\n    background-attachment: scroll;\\n    top: 0;\\n    bottom: 0;\\n    left: 0;\\n    right: 0;\\n    position:fixed;\\n    height:100vh;\\n    width:100vw;\\n    z-index:1;\\n\"])),function(props){return props.img;});var Margin=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    padding:.5em;\\n    background-color: var(--p-7);\\n    z-index:2;\\n\\n\"])));var Article=styled.article(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    z-index:2;\\n\"])));var Info=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n    display:flex;\\n    justify-content: center;\\n    align-items: center;\\n    max-width:100%;\\n    max-height:100%;\\n    height: 100vh;\\n    width: 100vw;\\n    z-index:2;\\n\"])));var Title=styled.h1(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n    background-color:var(--p-9);\\n    border-radius:.1em;\\n    padding:.2em;\\n    color:var(--p-1);\\n\"])));var Content=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n    width:100vw;\\n    max-width:100%;\\n    background-color:var(--p-9);\\n    padding:2em;\\n    display:flex;\\n    flex-direction:column;\\n    align-items:center; \\n\\n    p{\\n        color:var(--p-1);\\n        text-align: justify;\\n    }\\n    img{\\n        height:auto;\\n        max-height:calc(80vh);\\n        width:auto;\\n        max-width:100%;\\n        object-fit: cover;\\n        display:block;\\n    }\\n\"])));export default function PostPage(_ref){var match=_ref.match;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),post=_useState2[0],setPost=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),imageUrl=_useState4[0],setImageUrl=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoaded=_useState6[0],setIsLoaded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,1),depth=_useState8[0];useEffect(function(){var id=match.params.id;retrievePost(id).then(function(res){setPost(res);return retrieveFeaturedMedia(res.featured_media);}).then(function(res){if(!(res===null)){setImageUrl(res.media_details.sizes.full.source_url);}setIsLoaded(true);});},[match.params]);if(isLoaded){return/*#__PURE__*/_jsxs(PostWrapper,{children:[/*#__PURE__*/_jsx(Header,{img:imageUrl}),/*#__PURE__*/_jsx(Info,{children:/*#__PURE__*/_jsx(Title,{dangerouslySetInnerHTML:{__html:post.title.rendered}})}),/*#__PURE__*/_jsx(Article,{children:/*#__PURE__*/_jsx(Content,{dangerouslySetInnerHTML:{__html:post.content.rendered}})}),/*#__PURE__*/_jsx(Margin,{children:/*#__PURE__*/_jsx(Comments,{parent:\"0\",post:post.id,depth:depth})})]});}else{return/*#__PURE__*/_jsx(Loading,{children:\"Loading...\"});}}","map":{"version":3,"sources":["/Users/milantornier/Desktop/MySite/milansblog/src/components/PostPage.js"],"names":["React","useState","useEffect","Wrapper","Loading","styled","Comments","retrieveFeaturedMedia","retrievePost","PostWrapper","Header","div","props","img","Margin","Article","article","Info","Title","h1","Content","PostPage","match","post","setPost","imageUrl","setImageUrl","isLoaded","setIsLoaded","depth","id","params","then","res","featured_media","media_details","sizes","full","source_url","__html","title","rendered","content"],"mappings":"0YAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,OAAR,CAAiBC,OAAjB,KAA+B,UAA/B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,qBAArB,CACA,OAASC,qBAAT,CAAgCC,YAAhC,KAAoD,sBAApD,C,wFAEA,GAAMC,CAAAA,WAAW,CAAGJ,MAAM,CAACF,OAAD,CAAT,uIAAjB,CAMA,GAAMO,CAAAA,MAAM,CAAGL,MAAM,CAACM,GAAV,2aACU,SAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,GAAV,EADf,CAAZ,CAiBA,GAAMC,CAAAA,MAAM,CAAGT,MAAM,CAACM,GAAV,6IAAZ,CAOA,GAAMI,CAAAA,OAAO,CAAGV,MAAM,CAACW,OAAV,8LAAb,CAQA,GAAMC,CAAAA,IAAI,CAAGZ,MAAM,CAACM,GAAV,kPAAV,CAWA,GAAMO,CAAAA,KAAK,CAAGb,MAAM,CAACc,EAAV,0KAAX,CAOA,GAAMC,CAAAA,OAAO,CAAGf,MAAM,CAACM,GAAV,4dAAb,CAsBA,cAAe,SAASU,CAAAA,QAAT,MAA4B,IAARC,CAAAA,KAAQ,MAARA,KAAQ,CACvC,cAAwBrB,QAAQ,CAAC,EAAD,CAAhC,wCAAOsB,IAAP,eAAaC,OAAb,eACA,eAAgCvB,QAAQ,CAAC,EAAD,CAAxC,yCAAOwB,QAAP,eAAiBC,WAAjB,eACA,eAAgCzB,QAAQ,CAAC,KAAD,CAAxC,yCAAO0B,QAAP,eAAiBC,WAAjB,eACA,eAAgB3B,QAAQ,CAAC,CAAD,CAAxB,yCAAO4B,KAAP,eAEA3B,SAAS,CAAE,UAAM,CAEb,GAAQ4B,CAAAA,EAAR,CAAeR,KAAK,CAACS,MAArB,CAAQD,EAAR,CACAtB,YAAY,CAACsB,EAAD,CAAZ,CACCE,IADD,CACO,SAAAC,GAAG,CAAG,CACTT,OAAO,CAACS,GAAD,CAAP,CACA,MAAO1B,CAAAA,qBAAqB,CAAC0B,GAAG,CAACC,cAAL,CAA5B,CACH,CAJD,EAKCF,IALD,CAKM,SAAAC,GAAG,CAAI,CACT,GAAG,EAAEA,GAAG,GAAK,IAAV,CAAH,CAAmB,CACfP,WAAW,CAACO,GAAG,CAACE,aAAJ,CAAkBC,KAAlB,CAAwBC,IAAxB,CAA6BC,UAA9B,CAAX,CACH,CACDV,WAAW,CAAC,IAAD,CAAX,CACH,CAVD,EAYH,CAfQ,CAeP,CAACN,KAAK,CAACS,MAAP,CAfO,CAAT,CAiBA,GAAGJ,QAAH,CAAY,CACR,mBACI,MAAC,WAAD,yBACI,KAAC,MAAD,EAAQ,GAAG,CAAEF,QAAb,EADJ,cAGI,KAAC,IAAD,wBACI,KAAC,KAAD,EAAO,uBAAuB,CAAE,CAACc,MAAM,CAAEhB,IAAI,CAACiB,KAAL,CAAWC,QAApB,CAAhC,EADJ,EAHJ,cAMI,KAAC,OAAD,wBACI,KAAC,OAAD,EAAS,uBAAuB,CAAE,CAACF,MAAM,CAAEhB,IAAI,CAACmB,OAAL,CAAaD,QAAtB,CAAlC,EADJ,EANJ,cASI,KAAC,MAAD,wBACI,KAAC,QAAD,EAAU,MAAM,CAAC,GAAjB,CAAqB,IAAI,CAAElB,IAAI,CAACO,EAAhC,CAAoC,KAAK,CAAED,KAA3C,EADJ,EATJ,GADJ,CAeH,CAhBD,IAgBO,CACH,mBACI,KAAC,OAAD,yBADJ,CAGH,CACJ","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {Wrapper, Loading} from './Styled'\nimport styled from 'styled-components'\nimport Comments from './Comments/Comments'\nimport { retrieveFeaturedMedia, retrievePost } from '../service/WPService';\n\nconst PostWrapper = styled(Wrapper)`\n    max-width:50em;\n    display:flex;\n    flex-direction:column;\n`\n\nconst Header = styled.div`\n    background: url(${props => props.img}) no-repeat center center fixed; \n    -webkit-background-size: cover;\n    -moz-background-size: cover;\n    -o-background-size: cover;\n    background-size: cover;\n    background-attachment: scroll;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    position:fixed;\n    height:100vh;\n    width:100vw;\n    z-index:1;\n`\n\nconst Margin = styled.div`\n    padding:.5em;\n    background-color: var(--p-7);\n    z-index:2;\n\n`\n\nconst Article = styled.article`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    z-index:2;\n`\n\nconst Info = styled.div`\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    max-width:100%;\n    max-height:100%;\n    height: 100vh;\n    width: 100vw;\n    z-index:2;\n`\n\nconst Title = styled.h1`\n    background-color:var(--p-9);\n    border-radius:.1em;\n    padding:.2em;\n    color:var(--p-1);\n`\n\nconst Content = styled.div`\n    width:100vw;\n    max-width:100%;\n    background-color:var(--p-9);\n    padding:2em;\n    display:flex;\n    flex-direction:column;\n    align-items:center; \n\n    p{\n        color:var(--p-1);\n        text-align: justify;\n    }\n    img{\n        height:auto;\n        max-height:calc(80vh);\n        width:auto;\n        max-width:100%;\n        object-fit: cover;\n        display:block;\n    }\n`\nexport default function PostPage ({match}) {\n    const [post, setPost] = useState('');\n    const [imageUrl, setImageUrl] = useState('');\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [depth] = useState(0);\n\n    useEffect( () => {\n\n        const { id } = match.params;\n        retrievePost(id)\n        .then( res =>{\n            setPost(res)\n            return retrieveFeaturedMedia(res.featured_media)\n        })\n        .then(res => {\n            if(!(res === null)){\n                setImageUrl(res.media_details.sizes.full.source_url)\n            }\n            setIsLoaded(true)\n        })\n        \n    },[match.params])\n\n    if(isLoaded){\n        return(\n            <PostWrapper>\n                <Header img={imageUrl}>\n                </Header>\n                <Info>\n                    <Title dangerouslySetInnerHTML={{__html: post.title.rendered}}/>\n                </Info>\n                <Article>\n                    <Content dangerouslySetInnerHTML={{__html: post.content.rendered}}/>\n                </Article>\n                <Margin>\n                    <Comments parent=\"0\" post={post.id} depth={depth}/>\n                </Margin>\n            </PostWrapper>\n        )\n    } else {\n        return (\n            <Loading>Loading...</Loading>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}